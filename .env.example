# =============================================================================
# Backend Patient App - Environment Variables
# =============================================================================
# Copy this file to .env.{environment} (e.g., .env.development, .env.staging)
# or .env.stag for fallback loading.
#
# Loading priority:
#   1. .env.{ENV} file (where ENV is the environment name)
#   2. .env.stag (fallback)
#
# Notes:
#   - Variables marked [REQUIRED] must be set for the app to start
#   - Variables with multiline content (keys/certs) use \n for newlines
#   - Boolean values: use "True" or "False" (case-sensitive)
# =============================================================================

# -----------------------------------------------------------------------------
# ENVIRONMENT & APP CONFIGURATION
# -----------------------------------------------------------------------------
ENV=development                           # Environment name (development, staging, production)
BACKEND_ENVIRONMENT=development           # Backend environment identifier
BACKEND_API_URL=http://localhost:8000     # Backend API base URL
ADMIN_WEB_URL=http://localhost:3000       # Admin web dashboard URL

# App versioning
CURRENT_APP_VERSION=1                     # Current mobile app version
MIN_SUPPORTED_APP_VERSION=1               # Minimum supported mobile app version

# Feature flags
MOCK_SMS=False                            # Mock SMS sending (True/False)
MOCK_EMAIL=False                          # Mock email sending (True/False)
WALK_IN_START_TIME_DELAY=15               # Walk-in appointment start delay in minutes

# -----------------------------------------------------------------------------
# AUTHENTICATION & API KEYS
# -----------------------------------------------------------------------------
EXPO_PUBLIC_API_KEY=                      # Expo public API key for mobile apps
EXPO_PATIENT_TOKEN=                       # Expo push notification token (patient app)
EXPO_DOCTOR_TOKEN=                        # Expo push notification token (doctor app)
CRON_API_KEY=                             # API key for cron job authentication

# -----------------------------------------------------------------------------
# DATABASE - PostgreSQL
# -----------------------------------------------------------------------------
POSTGRES_URL=                             # [REQUIRED] PostgreSQL connection string
                                          # Format: postgresql://user:pass@host:port/dbname
POSTGRES_POOL_SIZE=40                     # Connection pool size

# -----------------------------------------------------------------------------
# CACHE - Redis
# -----------------------------------------------------------------------------
REDIS_HOST=localhost                      # Redis server hostname
REDIS_PORT=6379                           # Redis server port
REDIS_DB=0                                # Redis database number

# -----------------------------------------------------------------------------
# FIREBASE AUTHENTICATION [ALL REQUIRED]
# -----------------------------------------------------------------------------
# Firebase Admin SDK credentials (from Firebase Console > Service Accounts)
FIREBASE_TYPE=service_account
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY_ID=
FIREBASE_PRIVATE_KEY=                     # Use \n for newlines in the key
FIREBASE_CLIENT_EMAIL=
FIREBASE_CLIENT_ID=
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_X509_CERT_URL=
FIREBASE_UNIVERSE_DOMAIN=googleapis.com

# Firebase Web API Key (for testing only)
FIREBASE_WEB_API_KEY=                     # Required for running tests

# -----------------------------------------------------------------------------
# SUPABASE
# -----------------------------------------------------------------------------
SUPABASE_URL=                             # Supabase project URL
SUPABASE_KEY=                             # Supabase anon/service key
SUPABASE_WEBHOOK_API_KEY=                 # Webhook authentication key
SUPABASE_UPLOAD_BUCKET=                   # Public upload bucket name
SUPABASE_PRIVATE_BUCKET=                  # Private documents bucket name

# -----------------------------------------------------------------------------
# SMS - SMSDome
# -----------------------------------------------------------------------------
SMSDOME_URL=                              # SMSDome API endpoint
SMSDOME_APPID=                            # SMSDome application ID
SMSDOME_APPSECRET=                        # SMSDome application secret

# -----------------------------------------------------------------------------
# EMAIL - Resend
# -----------------------------------------------------------------------------
RESEND_API_KEY=                           # Resend API key for email sending

# -----------------------------------------------------------------------------
# MONITORING & LOGGING
# -----------------------------------------------------------------------------
SENTRY_DSN=                               # Sentry DSN for error tracking

# -----------------------------------------------------------------------------
# PAYMENT GATEWAY - Stripe
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=                        # Stripe secret key (sk_*)
STRIPE_PUBLISHABLE_KEY=                   # Stripe publishable key (pk_*)
STRIPE_WEBHOOK_SECRET=                    # Stripe webhook signing secret (whsec_*)

# -----------------------------------------------------------------------------
# PAYMENT GATEWAY - 2C2P [ALL REQUIRED]
# -----------------------------------------------------------------------------
PAYMENT_2C2P_ENDPOINT=                    # [REQUIRED] 2C2P API endpoint
PAYMENT_2C2P_MERCHANT_SHA_KEY=            # [REQUIRED] Merchant SHA key for signing
PAYMENT_2C2P_MERCHANT_ID=                 # [REQUIRED] 2C2P Merchant ID
PAYMENT_2C2P_CURRENCY_CODE=               # [REQUIRED] Currency code (e.g., 702 for SGD)

# -----------------------------------------------------------------------------
# PAYMENT GATEWAY - NETS Click [ALL REQUIRED]
# -----------------------------------------------------------------------------
ENVIRONMENT=                              # [REQUIRED] NETS environment (staging/production)
NETS_CLICK_DOMAIN_NAME=                   # [REQUIRED] NETS Click API domain
NETS_CLICK_API_STATUS_DOMAIN_NAME=        # [REQUIRED] NETS Click status API domain
NETS_CLICK_API_KEY=                       # NETS Click API key
NETS_CLICK_SECRET=                        # NETS Click secret
NETS_CLICK_TID=                           # [REQUIRED] NETS Terminal ID
NETS_CLICK_RID=                           # [REQUIRED] NETS Retailer ID

# -----------------------------------------------------------------------------
# VIDEO CONFERENCING - Zoom
# -----------------------------------------------------------------------------
ZOOM_APP_KEY=                             # Zoom SDK App Key
ZOOM_APP_SECRET=                          # Zoom SDK App Secret

# -----------------------------------------------------------------------------
# PUSH NOTIFICATIONS - Apple APNS (VoIP)
# -----------------------------------------------------------------------------
APNS_AUTH_KEY=                            # Apple Auth Key (.p8 content, use \n for newlines)
APNS_KEY_ID=                              # Key ID from Apple Developer Console
APNS_TEAM_ID=                             # Apple Developer Team ID
APNS_TOPIC=sg.com.pinnaclefamilyclinic.test.pinnaclesgplus.voip  # Bundle ID + .voip
APNS_USE_SANDBOX=True                     # Use sandbox environment (True/False)

# -----------------------------------------------------------------------------
# HEALTHCARE INTEGRATION - SGiMed
# -----------------------------------------------------------------------------
SGIMED_API_URL=                           # [REQUIRED] SGiMed API base URL
SGIMED_API_KEY=                           # [REQUIRED] SGiMed API key
SGIMED_DEFAULT_BRANCH_ID=                 # [REQUIRED] Default branch for new user registration
SGIMED_TELEMED_APPT_TYPE_ID=              # Telemedicine appointment type ID
SGIMED_SA_PCP_BRANCH_ID=                  # St. Andrew's PCP branch ID
SGIMED_MEDICATION_ITEM_TYPE=              # [REQUIRED] Item type code for medications
SGIMED_GST_RATE=0.09                      # GST rate (default: 9%)
SGIMED_WEBHOOK_PUBLIC_KEY=                # Public key for webhook signature verification (use \n for newlines)

# -----------------------------------------------------------------------------
# LOYALTY PROGRAM - Yuu
# -----------------------------------------------------------------------------
# OAuth & API
YUU_CLIENT_ID=                            # Yuu OAuth client ID
YUU_CLIENT_SECRET=                        # Yuu OAuth client secret
YUU_API_URL=                              # Yuu API base URL
YUU_REDIRECT_URI=                         # OAuth redirect URI
YUU_PUBLIC_KEY=                           # Yuu public key for encryption
YUU_PINNACLE_PRIVATE_KEY=                 # Pinnacle private key for signing
YUU_PINNACLE_PRIVATE_KEYPHRASE=           # Private key passphrase
YUU_SGIMED_COMPANY_ID=17506409518296369   # SGiMed company ID for Yuu

# AWS S3 Integration (for Yuu data sync)
YUU_AWS_ACCESS_KEY=                       # AWS access key
YUU_AWS_SECRET_ACCESS_KEY=                # AWS secret access key
YUU_IAM_ROLE=                             # IAM role ARN for S3 access
YUU_S3_BUCKET=                            # S3 bucket name
YUU_S3_PATH=                              # S3 path prefix
YUU_BRAND_CODE=                           # Yuu brand code

# -----------------------------------------------------------------------------
# INTERNAL SERVICES
# -----------------------------------------------------------------------------
BUNJS_SERVER_URL=                         # BunJS PDF generation server URL
